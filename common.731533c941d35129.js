"use strict";(self.webpackChunkpokedex=self.webpackChunkpokedex||[]).push([[592],{3371:(D,_,c)=>{c.d(_,{J:()=>r});var d=c(4755),f=c(1728),y=c(1217),t=c(6286),u=c(6924),h=c(430),C=c(2076),O=c(3900),b=c(4004),a=c(2223);let k=(()=>{class n{constructor(e){this.dialog=e}openTypesDialog({types:e=[],attacking:s=!1,defending:o=!1}){(0,C.D)(Promise.all([c.e(12),c.e(592),c.e(587)]).then(c.bind(c,5587))).pipe((0,b.U)(i=>Object.values(i)[0]),(0,O.w)(i=>this.dialog.open(i,{data:{types:e,attacking:s,defending:o}}).afterClosed())).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(t.uw))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),T=(()=>{class n{transform(e,s="",o=!1){let i=this.getTypeColor(e);if(s?.length){const g=this.getTypeColor(s);i=this.blendColors(i,g)}return o?this.invertColor(i):i}invertColor(e){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");const s=(255-parseInt(e.slice(0,2),16)).toString(16),o=(255-parseInt(e.slice(2,4),16)).toString(16),i=(255-parseInt(e.slice(4,6),16)).toString(16);return"#"+this.padZero(s)+this.padZero(o)+this.padZero(i)}padZero(e,s){return s=s||2,(new Array(s).join("0")+e).slice(-s)}blendColors(e,s,o=.5){const[i,g,m]=e.match(/\w\w/g)?.map(P=>parseInt(P,16))||[],[v,Z,w]=s.match(/\w\w/g)?.map(P=>parseInt(P,16))||[];return"#"+Math.round(i+(v-i)*o).toString(16).padStart(2,"0")+Math.round(g+(Z-g)*o).toString(16).padStart(2,"0")+Math.round(m+(w-m)*o).toString(16).padStart(2,"0")}getTypeColor(e){let s="#000";switch(e){case"normal":s="#9C9C63";break;case"fighting":s="#AE2A24";break;case"flying":s="#8E6FEB";break;case"poison":s="#923A92";break;case"ground":s="#DBB54D";break;case"rock":s="#A48F32";break;case"bug":s="#97A51D";break;case"ghost":s="#644E88";break;case"steel":s="#A0A0C0";break;case"fire":s="#ED6D12";break;case"water":s="#4578ED";break;case"grass":s="#69C23D";break;case"electric":s="#F6C913";break;case"psychic":s="#F73670";break;case"ice":s="#7ECECE";break;case"dragon":s="#5D1EF7";break;case"dark":s="#644e40";break;case"fairy":s="#E87890";break;case"unknown":s="#888";break;case"shadow":s="#444"}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"typeColor",type:n,pure:!0,standalone:!0}),n})();function M(n,p){if(1&n&&(a.TgZ(0,"button",4),a.ALo(1,"typeColor"),a.TgZ(2,"b"),a._uU(3),a.ALo(4,"uppercase"),a.qZA()()),2&n){const e=p.ngIf,s=a.oxw().$implicit;a.Udp("background-color",a.lcZ(1,3,e)),a.xp6(3),a.hij(" ",a.lcZ(4,5,s("type."+e+".name"))," ")}}function x(n,p){if(1&n&&(a.ynx(0),a.TgZ(1,"mat-icon",5),a.ALo(2,"typeColor"),a._uU(3,"merge"),a.qZA(),a.TgZ(4,"button",6),a.ALo(5,"typeColor"),a.TgZ(6,"b"),a._uU(7),a.ALo(8,"uppercase"),a.qZA()(),a.BQk()),2&n){const e=p.ngIf,s=a.oxw().$implicit,o=a.oxw();a.xp6(1),a.Udp("background-color",a.xi3(2,5,o.types[0],o.types[1])),a.xp6(3),a.Udp("background-color",a.lcZ(5,8,e)),a.xp6(3),a.hij(" ",a.lcZ(8,10,s("type."+e+".name"))," ")}}function l(n,p){if(1&n){const e=a.EpF();a.ynx(0),a.TgZ(1,"span",1),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.clickable&&(o.attacking||o.defending)&&o.typeDetailService.openTypesDialog({types:o.types,attacking:o.attacking,defending:o.defending}))}),a.YNc(2,M,5,7,"button",2),a.YNc(3,x,9,12,"ng-container",3),a.qZA(),a.BQk()}if(2&n){const e=a.oxw();a.xp6(1),a.ekj("multi-type",e.types.length>1)("clickable",e.clickable)("full-width",e.fullWidth),a.xp6(1),a.Q6J("ngIf",null==e.types?null:e.types[0]),a.xp6(1),a.Q6J("ngIf",null==e.types?null:e.types[1])}}let r=(()=>{class n{constructor(e){this.typeDetailService=e,this.types=[],this.clickable=!1,this.fullWidth=!1,this.defending=!1,this.attacking=!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(k))},n.\u0275cmp=a.Xpm({type:n,selectors:[["pokedex-type-button"]],inputs:{types:"types",clickable:"clickable",fullWidth:"fullWidth",defending:"defending",attacking:"attacking"},standalone:!0,features:[a._Bn([k]),a.jDz],decls:1,vars:0,consts:[[4,"transloco"],["matRipple","",1,"types-container",3,"click"],["mat-flat-button","","class","type-1",3,"background-color",4,"ngIf"],[4,"ngIf"],["mat-flat-button","",1,"type-1"],[1,"type-merge"],["mat-flat-button","",1,"type-2"]],template:function(e,s){1&e&&a.YNc(0,l,4,8,"ng-container",0)},dependencies:[d.ez,d.O5,d.gd,f.ot,f.lW,t.Is,h.y4,h.KI,T,u.Ps,u.Hw,y.si,y.wG],styles:["[_nghost-%COMP%]   span.mat-mdc-button-ripple[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .types-container[_ngcontent-%COMP%]{display:inline-flex;cursor:pointer}[_nghost-%COMP%]   .types-container[_ngcontent-%COMP%]   .mdc-button[_ngcontent-%COMP%]{padding-left:6px;padding-right:6px;height:24px;min-width:24px}[_nghost-%COMP%]   .types-container.multi-type[_ngcontent-%COMP%]   .type-1[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-top-right-radius:0}[_nghost-%COMP%]   .types-container.multi-type[_ngcontent-%COMP%]   .type-2[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-top-left-radius:0}[_nghost-%COMP%]   .types-container[_ngcontent-%COMP%]:not(.clickable)   .type-1[_ngcontent-%COMP%], [_nghost-%COMP%]   .types-container[_ngcontent-%COMP%]:not(.clickable)   .type-merge[_ngcontent-%COMP%], [_nghost-%COMP%]   .types-container[_ngcontent-%COMP%]:not(.clickable)   .type-2[_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%]   .types-container.full-width[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .types-container.full-width[_ngcontent-%COMP%]   .mdc-button[_ngcontent-%COMP%]{width:100%}"]}),n})()},6404:(D,_,c)=>{c.d(_,{z:()=>x});var d=c(4755),f=c(430),y=c(8698),t=c(2223);let u=(()=>{class l{transform(n){switch(n){case 0:return"#05F";case.25:return"#007a0c";case.5:return"#7ba600";case 2:return"#F50";case 4:return"#F00";default:return"#000"}}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275pipe=t.Yjl({name:"typeDamagesMultiplierColor",type:l,pure:!0,standalone:!0}),l})();var h=c(3371);const C=function(l,r){return{title:l,damages:r}};function O(l,r){if(1&l&&(t.TgZ(0,"div",3)(1,"span",4),t._uU(2),t.qZA(),t.TgZ(3,"div",5),t.GkF(4,6)(5,6),t.qZA()()),2&l){const n=t.oxw().$implicit,p=t.oxw(),e=t.MAs(2);t.xp6(2),t.Oqu(n("type.damages.attacking.title")),t.xp6(2),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.WLB(5,C,n("type.damages.attacking.weaknesses"),p.typeDamages.attacking.weaknesses)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.WLB(8,C,n("type.damages.attacking.strengths"),p.typeDamages.attacking.strengths))}}function b(l,r){if(1&l&&(t.TgZ(0,"div",3)(1,"span",4),t._uU(2),t.qZA(),t.TgZ(3,"div",5),t.GkF(4,6)(5,6),t.qZA()()),2&l){const n=t.oxw().$implicit,p=t.oxw(),e=t.MAs(2);t.xp6(2),t.Oqu(n("type.damages.defending.title")),t.xp6(2),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.WLB(5,C,n("type.damages.defending.weaknesses"),p.typeDamages.defending.weaknesses)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.WLB(8,C,n("type.damages.defending.resistances"),p.typeDamages.defending.resistances))}}function a(l,r){if(1&l&&(t.ynx(0),t.YNc(1,O,6,11,"div",2),t.YNc(2,b,6,11,"div",2),t.BQk()),2&l){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.attacking&&(null==n.typeDamages?null:n.typeDamages.attacking)),t.xp6(1),t.Q6J("ngIf",n.defending&&(null==n.typeDamages?null:n.typeDamages.defending))}}const k=function(l){return[l]};function T(l,r){if(1&l&&(t.TgZ(0,"div",10),t._UZ(1,"pokedex-type-button",11),t.TgZ(2,"span",12),t.ALo(3,"typeDamagesMultiplierColor"),t._uU(4),t.qZA()()),2&l){const n=r.$implicit;t.xp6(1),t.Q6J("types",t.VKq(7,k,n.name+""))("fullWidth",!0),t.xp6(1),t.Udp("color",t.lcZ(3,5,n.multiplier)),t.xp6(2),t.hij("x",n.multiplier,"")}}function M(l,r){if(1&l&&(t.TgZ(0,"div",7)(1,"span",8),t._uU(2),t.qZA(),t.YNc(3,T,5,9,"div",9),t.qZA()),2&l){const n=r.title,p=r.damages;t.xp6(2),t.Oqu(n),t.xp6(1),t.Q6J("ngForOf",p)}}let x=(()=>{class l{constructor(n){this.typeService=n,this.types=[],this.defending=!1,this.attacking=!1,this.clickableTitle=!1,this.clickableEntries=!1}generateTypeDamages(){const n=this.typeService.getAll(),p=n.filter(o=>this.types.includes(o.name)),e=n.map(o=>({name:o.name,multiplier:1}));p.forEach(o=>{o.damage_relations.double_damage_from.forEach(i=>{const g=e.findIndex(m=>m.name===i);e[g].multiplier*=2}),o.damage_relations.half_damage_from.forEach(i=>{const g=e.findIndex(m=>m.name===i);e[g].multiplier*=.5}),o.damage_relations.no_damage_from.forEach(i=>{const g=e.findIndex(m=>m.name===i);e[g].multiplier*=0})});const s=n.map(o=>({name:o.name,multiplier:1}));return p.forEach(o=>{o.damage_relations.double_damage_to.forEach(i=>{const g=s.findIndex(m=>m.name===i);s[g].multiplier*=2}),o.damage_relations.half_damage_to.forEach(i=>{const g=s.findIndex(m=>m.name===i);s[g].multiplier*=.5}),o.damage_relations.no_damage_to.forEach(i=>{const g=s.findIndex(m=>m.name===i);s[g].multiplier*=0})}),{attacking:{weaknesses:s.filter(o=>o.multiplier<1).sort((o,i)=>i.multiplier-o.multiplier),strengths:s.filter(o=>o.multiplier>1).sort((o,i)=>o.multiplier-i.multiplier)},defending:{weaknesses:e.filter(o=>o.multiplier>1).sort((o,i)=>i.multiplier-o.multiplier),resistances:e.filter(o=>o.multiplier<1).sort((o,i)=>o.multiplier-i.multiplier)}}}ngOnChanges(n){n.types&&(this.typeDamages=this.generateTypeDamages())}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(y.S))},l.\u0275cmp=t.Xpm({type:l,selectors:[["pokedex-type-damages"]],inputs:{types:"types",defending:"defending",attacking:"attacking",clickableTitle:"clickableTitle",clickableEntries:"clickableEntries"},standalone:!0,features:[t.TTD,t.jDz],decls:3,vars:0,consts:[[4,"transloco"],["typeDamagesTemplate",""],["class","type-damages-type",4,"ngIf"],[1,"type-damages-type"],[1,"type-damages-title"],[1,"type-damages"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"type-damages-block"],[1,"type-damages-block-title"],["class","type-damage",4,"ngFor","ngForOf"],[1,"type-damage"],[3,"types","fullWidth"],[1,"type-damage-multiplier"]],template:function(n,p){1&n&&(t.YNc(0,a,3,2,"ng-container",0),t.YNc(1,M,4,2,"ng-template",null,1,t.W1O))},dependencies:[d.ez,d.sg,d.O5,d.tP,f.y4,f.KI,h.J,u],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:16px}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages-title[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]{display:flex;gap:16px}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damages-block-title[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damage[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damage[_ngcontent-%COMP%]   pokedex-type-button[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damage[_ngcontent-%COMP%]   .type-damage-multiplier[_ngcontent-%COMP%]{width:40px;margin-left:8px;text-align:end;font-weight:700}"]}),l})()},4382:(D,_,c)=>{c.d(_,{Z:()=>f});var d=c(2223);let f=(()=>{class y{constructor(u){this.elementRef=u,this.imgFallback=""}loadFallbackOnError(){this.elementRef.nativeElement.src=this.imgFallback}}return y.\u0275fac=function(u){return new(u||y)(d.Y36(d.SBq))},y.\u0275dir=d.lG2({type:y,selectors:[["img","imgFallback",""]],hostBindings:function(u,h){1&u&&d.NdJ("error",function(){return h.loadFallbackOnError()})},inputs:{imgFallback:"imgFallback"},standalone:!0}),y})()}}]);