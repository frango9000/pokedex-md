"use strict";(self.webpackChunkpokedex=self.webpackChunkpokedex||[]).push([[158],{6158:(w,u,i)=>{i.r(u),i.d(u,{TypeDetailComponent:()=>b});var g=i(4755),x=i(1728),r=i(6012),f=i(6286),h=i(3630),C=i(430),_=i(5420),T=i(6157),O=i(4945),e=i(2223);const y=function(n,o){return{title:n,damages:o}};function k(n,o){if(1&n&&(e.TgZ(0,"div",3)(1,"span",4),e._uU(2,"Attacking"),e.qZA(),e.TgZ(3,"div",5),e.GkF(4,6)(5,6),e.qZA()()),2&n){const t=e.oxw().$implicit,l=e.oxw(),s=e.MAs(2);e.xp6(4),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.WLB(4,y,t("weaknesses"),l.typeDamages.attacking.weaknesses)),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.WLB(7,y,t("strengths"),l.typeDamages.attacking.strengths))}}function M(n,o){if(1&n&&(e.TgZ(0,"div",3)(1,"span",4),e._uU(2,"Defending"),e.qZA(),e.TgZ(3,"div",5),e.GkF(4,6)(5,6),e.qZA()()),2&n){const t=e.oxw().$implicit,l=e.oxw(),s=e.MAs(2);e.xp6(4),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.WLB(4,y,t("weaknesses"),l.typeDamages.defending.weaknesses)),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.WLB(7,y,t("resistances"),l.typeDamages.defending.resistances))}}function P(n,o){if(1&n&&(e.ynx(0),e.YNc(1,k,6,10,"div",2),e.YNc(2,M,6,10,"div",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.typeDamages?null:t.typeDamages.attacking),e.xp6(1),e.Q6J("ngIf",null==t.typeDamages?null:t.typeDamages.defending)}}const D=function(n){return[n]};function v(n,o){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"pokedex-type-button",11),e.TgZ(2,"span",12),e._uU(3),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("types",e.VKq(3,D,t.name+""))("fullWidth",!0),e.xp6(2),e.hij("x",t.multiplier,"")}}function Z(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"span",8),e._uU(2),e.qZA(),e.YNc(3,v,4,5,"div",9),e.qZA()),2&n){const t=o.title,l=o.damages;e.xp6(2),e.Oqu(t),e.xp6(1),e.Q6J("ngForOf",l)}}let A=(()=>{class n{constructor(t){this.typeService=t,this.types=[],this.showDefending=!1,this.showAttacking=!1,this.clickableTitle=!1,this.clickableEntries=!1}ngOnInit(){this.typeDamages=this.generateTypeDamages()}generateTypeDamages(){const t=this.typeService.getAll(),l=t.filter(a=>this.types.includes(a.name));let s=t.map(a=>({name:a.name,multiplier:1}));l.forEach(a=>{a.damage_relations.double_damage_from.forEach(p=>{const m=s.findIndex(d=>d.name===p);s[m].multiplier*=2}),a.damage_relations.half_damage_from.forEach(p=>{const m=s.findIndex(d=>d.name===p);s[m].multiplier*=.5}),a.damage_relations.no_damage_from.forEach(p=>{const m=s.findIndex(d=>d.name===p);s[m].multiplier*=0})}),s=s.filter(a=>1!==a.multiplier);let c=t.map(a=>({name:a.name,multiplier:1}));return l.forEach(a=>{a.damage_relations.double_damage_to.forEach(p=>{const m=c.findIndex(d=>d.name===p);c[m].multiplier*=2}),a.damage_relations.half_damage_to.forEach(p=>{const m=c.findIndex(d=>d.name===p);c[m].multiplier*=.5}),a.damage_relations.no_damage_to.forEach(p=>{const m=c.findIndex(d=>d.name===p);c[m].multiplier*=0})}),c=c.filter(a=>1!==a.multiplier),{attacking:{weaknesses:c.filter(a=>a.multiplier<1),strengths:c.filter(a=>a.multiplier>1)},defending:{weaknesses:s.filter(a=>a.multiplier>1),resistances:s.filter(a=>a.multiplier<1)}}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pokedex-type-damages"]],inputs:{types:"types",showDefending:"showDefending",showAttacking:"showAttacking",clickableTitle:"clickableTitle",clickableEntries:"clickableEntries"},standalone:!0,features:[e.jDz],decls:3,vars:0,consts:[[4,"transloco"],["typeDamagesTemplate",""],["class","type-damages-type",4,"ngIf"],[1,"type-damages-type"],[1,"type-damages-title"],[1,"type-damages"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"type-damages-block"],[1,"type-damages-block-title"],["class","type-damage",4,"ngFor","ngForOf"],[1,"type-damage"],[3,"types","fullWidth"],[1,"type-damage-multiplier"]],template:function(t,l){1&t&&(e.YNc(0,P,3,2,"ng-container",0),e.YNc(1,Z,4,2,"ng-template",null,1,e.W1O))},dependencies:[g.ez,g.sg,g.O5,g.tP,T.y4,T.KI,_.J],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages-title[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damages-block-title[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damage[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damage[_ngcontent-%COMP%]   pokedex-type-button[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damage[_ngcontent-%COMP%]   .type-damage-multiplier[_ngcontent-%COMP%]{width:50px;text-align:end}"]}),n})(),b=(()=>{class n{constructor(t){this.types=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pokedex-type-detail"]],standalone:!0,features:[e.jDz],decls:12,vars:2,consts:[[1,"title-icon"],[3,"types"],["mat-icon-button","","aria-label","Close","mat-dialog-close",""]],template:function(t,l){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon",0),e._uU(4,"title"),e.qZA(),e._UZ(5,"pokedex-type-button",1),e.TgZ(6,"button",2)(7,"mat-icon"),e._uU(8,"close"),e.qZA()()()(),e._UZ(9,"mat-divider"),e.TgZ(10,"mat-card-content"),e._UZ(11,"pokedex-type-damages",1),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("types",l.types),e.xp6(6),e.Q6J("types",l.types))},dependencies:[g.ez,r.QW,r.a8,r.dn,r.dk,r.n5,C.Ps,C.Hw,x.ot,x.RK,h.t,h.d,A,_.J,f.Is,f.ZT],styles:["pokedex-type-detail .mat-mdc-card-header{padding:4px}pokedex-type-detail .mat-mdc-card-header .mat-mdc-card-header-text{width:100%}pokedex-type-detail .mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title{display:flex;justify-content:space-between;align-items:center}pokedex-type-detail .mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title .title-icon{padding:12px}\n"],encapsulation:2}),n})()}}]);