"use strict";(self.webpackChunkpokedex=self.webpackChunkpokedex||[]).push([[592],{5154:(D,k,p)=>{p.d(k,{J:()=>g});var u=p(6814),C=p(2296),t=p(3680),_=p(9347),h=p(617),y=p(9786),f=p(7715),O=p(4664),T=p(7398),e=p(5879);let b=(()=>{var a;class l{constructor(o){this.dialog=o}openTypesDialog({types:o=[],attacking:n=!1,defending:s=!1}){(0,f.D)(Promise.all([p.e(195),p.e(592),p.e(775)]).then(p.bind(p,7775))).pipe((0,T.U)(i=>Object.values(i)[0]),(0,O.w)(i=>this.dialog.open(i,{data:{types:o,attacking:n,defending:s}}).afterClosed())).subscribe()}}return(a=l).\u0275fac=function(o){return new(o||a)(e.LFG(_.uw))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),l})(),M=(()=>{var a;class l{transform(o,n="",s=!1){let i=this.getTypeColor(o);if(n?.length){const m=this.getTypeColor(n);i=this.blendColors(i,m)}return s?this.invertColor(i):i}invertColor(o){if(0===o.indexOf("#")&&(o=o.slice(1)),3===o.length&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]),6!==o.length)throw new Error("Invalid HEX color.");const n=(255-parseInt(o.slice(0,2),16)).toString(16),s=(255-parseInt(o.slice(2,4),16)).toString(16),i=(255-parseInt(o.slice(4,6),16)).toString(16);return"#"+this.padZero(n)+this.padZero(s)+this.padZero(i)}padZero(o,n){return n=n||2,(new Array(n).join("0")+o).slice(-n)}blendColors(o,n,s=.5){const[i,m,d]=o.match(/\w\w/g)?.map(v=>parseInt(v,16))||[],[Z,w,F]=n.match(/\w\w/g)?.map(v=>parseInt(v,16))||[];return"#"+Math.round(i+(Z-i)*s).toString(16).padStart(2,"0")+Math.round(m+(w-m)*s).toString(16).padStart(2,"0")+Math.round(d+(F-d)*s).toString(16).padStart(2,"0")}getTypeColor(o){let n="#000";switch(o){case"normal":n="#9C9C63";break;case"fighting":n="#AE2A24";break;case"flying":n="#8E6FEB";break;case"poison":n="#923A92";break;case"ground":n="#DBB54D";break;case"rock":n="#A48F32";break;case"bug":n="#97A51D";break;case"ghost":n="#644E88";break;case"steel":n="#A0A0C0";break;case"fire":n="#ED6D12";break;case"water":n="#4578ED";break;case"grass":n="#69C23D";break;case"electric":n="#F6C913";break;case"psychic":n="#F73670";break;case"ice":n="#7ECECE";break;case"dragon":n="#5D1EF7";break;case"dark":n="#644e40";break;case"fairy":n="#E87890";break;case"unknown":n="#888";break;case"shadow":n="#444"}return n}}return(a=l).\u0275fac=function(o){return new(o||a)},a.\u0275pipe=e.Yjl({name:"typeColor",type:a,pure:!0,standalone:!0}),l})();function x(a,l){if(1&a&&(e.TgZ(0,"button",4),e.ALo(1,"typeColor"),e.TgZ(2,"b"),e._uU(3),e.ALo(4,"uppercase"),e.qZA()()),2&a){const r=l.ngIf,o=e.oxw().$implicit;e.Udp("background-color",e.lcZ(1,3,r)),e.xp6(3),e.hij(" ",e.lcZ(4,5,o("type."+r+".name"))," ")}}function P(a,l){if(1&a&&(e.ynx(0),e.TgZ(1,"mat-icon",5),e.ALo(2,"typeColor"),e._uU(3,"merge"),e.qZA(),e.TgZ(4,"button",6),e.ALo(5,"typeColor"),e.TgZ(6,"b"),e._uU(7),e.ALo(8,"uppercase"),e.qZA()(),e.BQk()),2&a){const r=l.ngIf,o=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Udp("background-color",e.xi3(2,5,n.types[0],n.types[1])),e.xp6(3),e.Udp("background-color",e.lcZ(5,8,r)),e.xp6(3),e.hij(" ",e.lcZ(8,10,o("type."+r+".name"))," ")}}function c(a,l){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"span",1),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.clickable&&(n.attacking||n.defending)&&n.typeDetailService.openTypesDialog({types:n.types,attacking:n.attacking,defending:n.defending}))}),e.YNc(2,x,5,7,"button",2),e.YNc(3,P,9,12,"ng-container",3),e.qZA(),e.BQk()}if(2&a){const r=e.oxw();e.xp6(1),e.ekj("multi-type",r.types.length>1)("clickable",r.clickable)("full-width",r.fullWidth),e.xp6(1),e.Q6J("ngIf",null==r.types?null:r.types[0]),e.xp6(1),e.Q6J("ngIf",null==r.types?null:r.types[1])}}let g=(()=>{var a;class l{constructor(o){this.typeDetailService=o,this.types=[],this.clickable=!1,this.fullWidth=!1,this.defending=!1,this.attacking=!1}}return(a=l).\u0275fac=function(o){return new(o||a)(e.Y36(b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["pokedex-type-button"]],inputs:{types:"types",clickable:"clickable",fullWidth:"fullWidth",defending:"defending",attacking:"attacking"},standalone:!0,features:[e._Bn([b]),e.jDz],decls:1,vars:0,consts:[[4,"transloco"],["matRipple","",1,"types-container",3,"click"],["mat-flat-button","","class","type-1",3,"background-color",4,"ngIf"],[4,"ngIf"],["mat-flat-button","",1,"type-1"],[1,"type-merge"],["mat-flat-button","",1,"type-2"]],template:function(o,n){1&o&&e.YNc(0,c,4,8,"ng-container",0)},dependencies:[u.ez,u.O5,u.gd,C.ot,C.lW,_.Is,y.y4,y.KI,M,h.Ps,h.Hw,t.si,t.wG],styles:["[_nghost-%COMP%]   span.mat-mdc-button-ripple[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .types-container[_ngcontent-%COMP%]{display:inline-flex;cursor:pointer}[_nghost-%COMP%]   .types-container[_ngcontent-%COMP%]   .mdc-button[_ngcontent-%COMP%]{padding-left:6px;padding-right:6px;height:24px;min-width:24px}[_nghost-%COMP%]   .types-container.multi-type[_ngcontent-%COMP%]   .type-1[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-top-right-radius:0}[_nghost-%COMP%]   .types-container.multi-type[_ngcontent-%COMP%]   .type-2[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-top-left-radius:0}[_nghost-%COMP%]   .types-container[_ngcontent-%COMP%]:not(.clickable)   .type-1[_ngcontent-%COMP%], [_nghost-%COMP%]   .types-container[_ngcontent-%COMP%]:not(.clickable)   .type-merge[_ngcontent-%COMP%], [_nghost-%COMP%]   .types-container[_ngcontent-%COMP%]:not(.clickable)   .type-2[_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%]   .types-container.full-width[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .types-container.full-width[_ngcontent-%COMP%]   .mdc-button[_ngcontent-%COMP%]{width:100%}"]}),l})()},7901:(D,k,p)=>{p.d(k,{z:()=>P});var u=p(6814),C=p(9786),t=p(5879);let _=(()=>{var c;class g{transform(l){switch(l){case 0:return"#05F";case.25:return"#007a0c";case.5:return"#7ba600";case 2:return"#F50";case 4:return"#F00";default:return"#000"}}}return(c=g).\u0275fac=function(l){return new(l||c)},c.\u0275pipe=t.Yjl({name:"typeDamagesMultiplierColor",type:c,pure:!0,standalone:!0}),g})();var h=p(5154),y=p(2751);const f=function(c,g){return{title:c,damages:g}};function O(c,g){if(1&c&&(t.TgZ(0,"div",3)(1,"span",4),t._uU(2),t.qZA(),t.TgZ(3,"div",5),t.GkF(4,6)(5,6),t.qZA()()),2&c){const a=t.oxw().$implicit,l=t.oxw(),r=t.MAs(2);t.xp6(2),t.Oqu(a("type.damages.attacking.title")),t.xp6(2),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.WLB(5,f,a("type.damages.attacking.weaknesses"),l.typeDamages.attacking.weaknesses)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.WLB(8,f,a("type.damages.attacking.strengths"),l.typeDamages.attacking.strengths))}}function T(c,g){if(1&c&&(t.TgZ(0,"div",3)(1,"span",4),t._uU(2),t.qZA(),t.TgZ(3,"div",5),t.GkF(4,6)(5,6),t.qZA()()),2&c){const a=t.oxw().$implicit,l=t.oxw(),r=t.MAs(2);t.xp6(2),t.Oqu(a("type.damages.defending.title")),t.xp6(2),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.WLB(5,f,a("type.damages.defending.weaknesses"),l.typeDamages.defending.weaknesses)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.WLB(8,f,a("type.damages.defending.resistances"),l.typeDamages.defending.resistances))}}function e(c,g){if(1&c&&(t.ynx(0),t.YNc(1,O,6,11,"div",2),t.YNc(2,T,6,11,"div",2),t.BQk()),2&c){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.attacking&&(null==a.typeDamages?null:a.typeDamages.attacking)),t.xp6(1),t.Q6J("ngIf",a.defending&&(null==a.typeDamages?null:a.typeDamages.defending))}}const b=function(c){return[c]};function M(c,g){if(1&c&&(t.TgZ(0,"div",10),t._UZ(1,"pokedex-type-button",11),t.TgZ(2,"span",12),t.ALo(3,"typeDamagesMultiplierColor"),t._uU(4),t.qZA()()),2&c){const a=g.$implicit;t.xp6(1),t.Q6J("types",t.VKq(7,b,a.name+""))("fullWidth",!0),t.xp6(1),t.Udp("color",t.lcZ(3,5,a.multiplier)),t.xp6(2),t.hij("x",a.multiplier,"")}}function x(c,g){if(1&c&&(t.TgZ(0,"div",7)(1,"span",8),t._uU(2),t.qZA(),t.YNc(3,M,5,9,"div",9),t.qZA()),2&c){const a=g.title,l=g.damages;t.xp6(2),t.Oqu(a),t.xp6(1),t.Q6J("ngForOf",l)}}let P=(()=>{var c;class g{constructor(l){this.typeService=l,this.types=[],this.defending=!1,this.attacking=!1,this.clickableTitle=!1,this.clickableEntries=!1}generateTypeDamages(){const l=this.typeService.getAll(),r=l.filter(s=>this.types.includes(s.name)),o=l.map(s=>({name:s.name,multiplier:1}));r.forEach(s=>{s.damage_relations.double_damage_from.forEach(i=>{const m=o.findIndex(d=>d.name===i);o[m].multiplier*=2}),s.damage_relations.half_damage_from.forEach(i=>{const m=o.findIndex(d=>d.name===i);o[m].multiplier*=.5}),s.damage_relations.no_damage_from.forEach(i=>{const m=o.findIndex(d=>d.name===i);o[m].multiplier*=0})});const n=l.map(s=>({name:s.name,multiplier:1}));return r.forEach(s=>{s.damage_relations.double_damage_to.forEach(i=>{const m=n.findIndex(d=>d.name===i);n[m].multiplier*=2}),s.damage_relations.half_damage_to.forEach(i=>{const m=n.findIndex(d=>d.name===i);n[m].multiplier*=.5}),s.damage_relations.no_damage_to.forEach(i=>{const m=n.findIndex(d=>d.name===i);n[m].multiplier*=0})}),{attacking:{weaknesses:n.filter(s=>s.multiplier<1).sort((s,i)=>i.multiplier-s.multiplier),strengths:n.filter(s=>s.multiplier>1).sort((s,i)=>s.multiplier-i.multiplier)},defending:{weaknesses:o.filter(s=>s.multiplier>1).sort((s,i)=>i.multiplier-s.multiplier),resistances:o.filter(s=>s.multiplier<1).sort((s,i)=>s.multiplier-i.multiplier)}}}ngOnChanges(l){l.types&&(this.typeDamages=this.generateTypeDamages())}}return(c=g).\u0275fac=function(l){return new(l||c)(t.Y36(y.S))},c.\u0275cmp=t.Xpm({type:c,selectors:[["pokedex-type-damages"]],inputs:{types:"types",defending:"defending",attacking:"attacking",clickableTitle:"clickableTitle",clickableEntries:"clickableEntries"},standalone:!0,features:[t.TTD,t.jDz],decls:3,vars:0,consts:[[4,"transloco"],["typeDamagesTemplate",""],["class","type-damages-type",4,"ngIf"],[1,"type-damages-type"],[1,"type-damages-title"],[1,"type-damages"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"type-damages-block"],[1,"type-damages-block-title"],["class","type-damage",4,"ngFor","ngForOf"],[1,"type-damage"],[3,"types","fullWidth"],[1,"type-damage-multiplier"]],template:function(l,r){1&l&&(t.YNc(0,e,3,2,"ng-container",0),t.YNc(1,x,4,2,"ng-template",null,1,t.W1O))},dependencies:[u.ez,u.sg,u.O5,u.tP,C.y4,C.KI,h.J,_],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:16px}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages-title[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]{display:flex;gap:16px}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damages-block-title[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damage[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damage[_ngcontent-%COMP%]   pokedex-type-button[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .type-damages-type[_ngcontent-%COMP%]   .type-damages[_ngcontent-%COMP%]   .type-damages-block[_ngcontent-%COMP%]   .type-damage[_ngcontent-%COMP%]   .type-damage-multiplier[_ngcontent-%COMP%]{width:40px;margin-left:8px;text-align:end;font-weight:700}"]}),g})()},629:(D,k,p)=>{p.d(k,{Z:()=>C});var u=p(5879);let C=(()=>{var t;class _{constructor(y){this.elementRef=y,this.imgFallback=""}loadFallbackOnError(){this.elementRef.nativeElement.src=this.imgFallback}}return(t=_).\u0275fac=function(y){return new(y||t)(u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["img","imgFallback",""]],hostBindings:function(y,f){1&y&&u.NdJ("error",function(){return f.loadFallbackOnError()})},inputs:{imgFallback:"imgFallback"},standalone:!0}),_})()}}]);